<!DOCTYPE html>
<html>
<head>  
    <link rel="shortcut icon" href="../Pic/python.ico">
    <title>8 Queens</title>
    <script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>
    <script src="https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js?lang=css"></script>
    <link rel="stylesheet" href="../styles.css"/>
    <link href='http://fonts.googleapis.com/css?family=Lato'     rel='stylesheet' type='text/css'>
</head>

<body>
<br><br><br>
<h4>8 Queens: Calculate different ways it is possible to put eight queens on a chess board</h4><br>
Both iterative and recursive implementations are given<br>
<br>

<pre class = "prettyprint linenums">
####Iterative Version####
def legal(queens):
  """Check whether the given queen placements qualify as an answer"""
  board = [[0] * 8 for _ in range(8)]
  for index, q in enumerate(queens):
    board[index][q] = 1
  # check diagonally
  for j in range(7):
    if sum([board[i][i + j] for i in range(8 - j)]) > 1:
      return False
  for j in range(1, 8):
    if sum([board[i][j - i] for i in range(j + 1)]) > 1:
      return False
  for j in range(7):
    if sum([board[i][(7 - i) + j] for i in range(7, j - 1 , -1)]) > 1:
      return False
  for j in range(1, 8):
    if sum([board[i][j - (7 - i)] for i in range(7, (8 - j) -2 , -1)]) > 1:
      return False
  return True

count = 0  # num of solutions found
a0 = list(range(8))
for i0 in a0:
  a1 = a0[:]
  a1.remove(i0)
  for i1 in a1:
    a2 = a1[:]
    a2.remove(i1)
    for i2 in a2:
      a3 = a2[:]
      a3.remove(i2)
      for i3 in a3:
        a4 = a3[:]
        a4.remove(i3)
        for i4 in a4:
          a5 = a4[:]
          a5.remove(i4)
          for i5 in a5:
            a6 = a5[:]
            a6.remove(i5)
            for i6 in a6:
              a7 = a6[:]
              a7.remove(i6)
              for i7 in a7:
                queens = [i0, i1, i2, i3, i4, i5, i6, i7]
                if legal(queens):
                  count += 1
print(count)
</pre><br>
<pre class= "prettyprint linenums">

####Recursive Version####

#uses the function 'possible' (defined at the top) with an extra argument for the 'board'

def countQis8(board):   #checks whether number of Queens of the board is 8
    for row in board:
        flag = False    #'flag' is added for efficiency, so if a row doesn't have a queen it doesn't continue checking other rows
        for col in row:
            if col == 1:
                flag = True
                break
        if not flag:
            return False
    return True

def eightQ(board, row):
    global sol_count
    if row == 8 and countQis8(board):   # 'row == 8' is added for efficiency
        sol_count += 1
        for i in board:
            print i
        print
    for r in range(row, 8):
        for c in range(8):
            b = [ k[:] for k in board ] #This makes a copy of the board
            if possible(r, c, b): 
                b[r][c] = 1
                eightQ(b, r+1)
    return

board = [ [ 0 for i in xrange(8)] for i in xrange(8) ] #create an 8x8 board. 0 represents no Queen, 1 represents Queen
sol_count =  0

eightQ(board, 0)
print "Number of Solutions Found:", sol_count
</pre>




<div id="disqus_thread"></div>
<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/

var disqus_config = function () {
this.page.url = 'http://www.sfu.ca/vvaezian.github.io/Code%20Examples/8%20Queens.html';  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = 'Code Examples/8 Queens.html'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};

(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://lomaph2020.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


</body>
